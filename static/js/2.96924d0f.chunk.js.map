{"version":3,"sources":["components/MainContent/MyPosts/Profile.module.css","components/MainContent/MyPosts/MyPost/MyPost.module.css","components/MainContent/MyPosts/MyPost/Post/Post.module.css","components/MainContent/MyPosts/ProfileInfo/ProfileStatusWithHooks.js","components/MainContent/MyPosts/ProfileInfo/ProfileInfo.js","components/MainContent/MyPosts/MyPost/Post/Post.js","components/MainContent/MyPosts/MyPost/MyPost.js","components/MainContent/MyPosts/MyPost/MyPostContainer.js","components/MainContent/MyPosts/Profile.js","components/MainContent/MyPosts/ProfileContainer.js"],"names":["module","exports","mainBanner","status","user","user_photo","userPhoto","user_desc","user_desc_title","user_desc_about","news","posts","newsButton","postsBox","post","round","ProfileStatusWithHooks","props","_useState","useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","_useState4","setStatus","useEffect","React","createElement","className","classes","onChange","e","target","value","autoFocus","onBlur","updateStatus","onClick","ProfileInfo","profile","Preloader","lis","Object","entries","contacts","map","elem","key","nanoid","href","Fragment","src","photos","large","alt","fullName","aboutMe","Post","message","style","height","likesCount","AddNewPostForm","validationSchema","Yup","shape","newPostText","min","max","required","Formik","initialValues","onSubmit","values","_ref2","resetForm","addPost","chatMessages","document","querySelector","setTimeout","scrollTop","scrollHeight","OnAddPost","Form","Field","name","as","placeholder","ErrorMessage","ErrorMessageWrapper","type","MyPost","_ref","postData","postsElements","p","id","SuperMyPostContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","MyPostContainer","ProfileContainer","_React$Component","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","apply","arguments","_inherits","_createClass","userId","router","params","authorisedUserId","getProfileThunk","getUserProfile","assign","Component","compose","auth","isAuth","location","useLocation","navigate","useNavigate","useParams"],"mappings":"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","file":"static/js/2.96924d0f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBanner\":\"Profile_mainBanner__e2XA5\",\"status\":\"Profile_status__1x-is\",\"user\":\"Profile_user__2Lc0K\",\"user_photo\":\"Profile_user_photo__3dO3d\",\"userPhoto\":\"Profile_userPhoto__2jml_\",\"user_desc\":\"Profile_user_desc__tkeQv\",\"user_desc_title\":\"Profile_user_desc_title__Jdce7\",\"user_desc_about\":\"Profile_user_desc_about__3zZc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"MyPost_news__13ow_\",\"posts\":\"MyPost_posts__KONmp\",\"newsButton\":\"MyPost_newsButton__3Qy4Z\",\"postsBox\":\"MyPost_postsBox__18nfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3IQ3a\",\"round\":\"Post_round__2o8OQ\"};","import classes from \"../Profile.module.css\";\r\nimport React, {useEffect, useState} from 'react';\r\n\r\n// componentDidUpdate(prevProps, prevState, snapshot) {\r\n//     if(this.props.status !== prevProps.status){\r\n//         this.setState({ status: this.props.status})\r\n//     }\r\n// }\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    //синхронизируйся когда у нас изменится статус\r\n    //без юзэффекта, при перезагрузке, если быстро нажать на редактирование статуса, то в инпуте,\r\n    // вместо статуса будет пусто, если дождатся выполнения гет запроса, то в инпуте будет статус\r\n\r\n    //хук который запускает какую то функцию после того, как все отрисуется, но не всегда,\r\n    // а когда с наружи нам прийдет какой то статус - [ ..smth.. ]\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const deActivateEditMode = () =>{\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const activateEditMode = () =>{\r\n        setEditMode(true )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.status}>\r\n            {!editMode ?\r\n                <div>\r\n                       <span\r\n                           onClick={activateEditMode}>\r\n                          {props.status || 'no status'}\r\n                       </span>\r\n                </div>\r\n                :\r\n                <div>\r\n                        <textarea\r\n                            onChange={e => setStatus(e.target.value)}\r\n                            autoFocus={true}\r\n                            onBlur={deActivateEditMode}\r\n                            value={status}\r\n                        />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks","import classes from \"../Profile.module.css\";\nimport React from \"react\";\nimport Preloader from \"../../../common/Preloader/Preloader\";\nimport {nanoid} from \"nanoid\";\n//import ProfileStatus from \"./ProfileStatus\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\n\n\n\nfunction ProfileInfo(props){\n    if(!props.profile){\n        return <Preloader />\n    }\n    //преобразовал обьект в массив, что бы отрисовать\n    const contacts = Object.entries(props.profile.contacts);\n    let lis = contacts.map((elem)=>{\n        return <li key={nanoid()}>{elem[0]} <a href='#'>{elem[1]=== null? '': elem[1]}</a> </li>\n    })\n    return(\n        <>\n            <div className={classes.mainBanner}></div>\n            <div className={classes.user}>\n                <div className={classes.user_photo}>\n                    <img className={classes.userPhoto} src={props.profile.photos.large ? props.profile.photos.large : 'https://cdn-icons-png.flaticon.com/512/149/149071.png'} alt=\"userLogo\"/>\n                </div>\n                <div className={classes.user_desc}>\n                    <div className={classes.user_desc_title}>{props.profile.fullName}</div>\n                    <div className={classes.user_desc_about}>{props.profile.aboutMe}</div>\n\n                    {/*компонента статуса*/}\n                    {/*10.прокидываем status в ProfileStatus*/}\n                    {/*<ProfileStatus status={props.status} updateStatus={props.updateStatus}/>*/}\n                    <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\n                    <ul>{lis}</ul>\n                </div>\n            </div>\n            <br/>\n        </>\n    );\n}\n\nexport default ProfileInfo","import React from 'react';\nimport classes from './Post.module.css'\n\n\nconst Post = (props) => {\n\n    return <>\n        <div className={classes.post}>\n            <span className={classes.round}></span>\n            <span>{ props.message }</span>\n            <br/>\n            <span><img style={{height: '15px'}} src=\"data:image/png;base64,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\" alt=\"likes\"/></span>\n            { props.likesCount }\n        </div>\n    </>\n\n\n}\n\nexport default Post;","import React, {} from 'react';\nimport classes from './MyPost.module.css'\nimport Post from \"./Post/Post\";\nimport { nanoid } from 'nanoid';\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\nimport * as Yup from \"yup\";\nimport {ErrorMessageWrapper} from \"../../../../utils/validators/validators\";\n\n\n\n\n\nconst MyPost = ({postData, addPost}) => {\n    //console.log('render my post')\n    let postsElements = postData.map( p => <Post\n        key={nanoid()}\n        message={p.message}\n        likesCount={p.likesCount}\n    />);\n\n    return <div className={classes.posts}>\n        <h3>My posts</h3>\n\n        <AddNewPostForm addPost={addPost}/>\n\n        <div id=\"div\" className={classes.postsBox}>\n            { postsElements }\n        </div>\n    </div>\n}\n\n\n\nconst AddNewPostForm = (props) => {\n    const validationSchema = Yup.object().shape({\n        newPostText: Yup.string()\n            .min(1, \"Must be longer than 1 characters !\")\n            .max(15, \"Must be shorter than 15 characters !\")\n            .required(\"Required !\")\n    });\n\n    const OnAddPost = (values) => {\n        props.addPost(values);\n        let chatMessages = document.querySelector('#div');\n        setTimeout(() => {\n            chatMessages.scrollTop = chatMessages.scrollHeight;\n        }, 0.5)\n    }\n\n    return (\n        <Formik\n            initialValues={{\n                newPostText: \"\"\n            }}\n            validationSchema={validationSchema}\n            onSubmit={(values, {resetForm}) => {\n                OnAddPost( values.newPostText );\n                resetForm( {values: ''} );\n            }}\n        >\n            {() => (\n                <Form>\n                    <div>\n                        <Field\n                            name={'newPostText'}\n                            as={'textarea'}\n                            placeholder={'enter text 1'}\n                        />\n                    </div>\n\n                    <ErrorMessage name=\"newPostText\">\n                        {ErrorMessageWrapper}\n                    </ErrorMessage>\n\n                    <button type={'submit'}>Add posts</button>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\n\nexport default MyPost;\n\n\n\n//{postData, newPostText, updateNewPostText, addPost}\n\n// let newPostElement = React.createRef();\n//\n// let onAddPost = () => {\n//     addPost();\n//     let chatMessages = document.querySelector('#div');\n//     setTimeout(()=>{\n//         chatMessages.scrollTop = chatMessages.scrollHeight;\n//     }, 0.5)\n//\n// }\n//\n// let onPostChange = () => {\n//     let text = newPostElement.current.value;\n//     updateNewPostText(text);\n// }\n\n{/*<div className={classes.news}>*/}\n{/*    <textarea*/}\n{/*        onChange={onPostChange}*/}\n{/*        //нативный js метод фокус - ref*/}\n{/*        ref={newPostElement}*/}\n{/*        value={newPostText}*/}\n{/*    />*/}\n{/*</div>*/}\n{/*<button onClick={onAddPost}>Add post</button>*/}\n{/*<br/><br/>*/}\n","import React from 'react';\n// import {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../../redux/profile_reducer\";\nimport MyPost from \"./MyPost\";\nimport {connect} from \"react-redux\";\nimport {addPostActionCreator} from \"../../../../redux/profile_reducer\";\n\n\n\n\nlet mapStateToProps = (state) => {\n    return{\n        postData: state.profilePage.postData,\n        //newPostText: state.profilePage.newPostText\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return{\n        // updateNewPostText: (text)=>{\n        //     let action = updateNewPostTextActionCreator(text);\n        //     dispatch(action);\n        //     },\n        // addPost: ()=>{dispatch(addPostActionCreator())}\n        addPost: (newPostText) => {\n            dispatch( addPostActionCreator( newPostText ) );\n        }\n\n    }\n}\n\nconst SuperMyPostContainer = connect(mapStateToProps,mapDispatchToProps)(MyPost);\nexport default SuperMyPostContainer;\n\n\n// const MyPostContainer = ({store}) => {\n//     //let state = store.getState();\n//\n//     let addPost = () => {\n//         store.dispatch(addPostActionCreator());\n//     }\n//\n//     let onPostChange = (text) => {\n//         let action = updateNewPostTextActionCreator(text);\n//         store.dispatch(action);\n//     }\n//\n//\n//     return <MyPost\n//         postData={state.profilePage.postData}\n//         newPostText={state.profilePage.newPostText}\n//         updateNewPostText={onPostChange}\n//         addPost={addPost}\n//     />\n// }\n\n//export default MyPostContainer;\n\n","import React from 'react';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostContainer from \"./MyPost/MyPostContainer\";\n\n\n\n\nconst Profile = ({profile, status, updateStatus}) => {\n    //console.log('render profile')\n    return <div>\n        {/*9.прокидываем status updateStatus в пропсы -> Profile*/}\n        <ProfileInfo profile={profile} status={status} updateStatus={updateStatus}/>\n        <MyPostContainer  />\n    </div>;\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getProfileThunk, getUserProfile, updateStatus} from \"../../../redux/profile_reducer\";\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport {compose} from \"redux\";\nimport {Navigate} from \"react-router-dom\";\n\n//https://social-network.samuraijs.com/api/1.0/profile/{userId}\n\n\nclass ProfileContainer extends React.Component{\n    // constructor(props) {\n    //     super( props );\n    //     this.state = {\n    //         isShowMyProfile: true\n    //     }\n    // }\n\n    componentDidMount() {\n\n        let userId = this.props.router.params['*'];\n\n        // userId = 28856;\n        if (!userId) {\n\n            userId = this.props.authorisedUserId;\n            // if(!userId){\n            //     //console.log(this.props.history)\n            //     //history netu v propsax\n            //     //this.props.history.push(\"/login\")\n            // }\n        }\n\n        this.props.getProfileThunk(userId);\n\n        //2.getUserStatus(userId) -> 3 down\n        this.props.getUserProfile(userId);\n\n\n        // profileAPI\n        //     .getProfile(userId)\n        //     .then(data => {\n        //         //console.log(response.data)\n        //         this.props.setFriendProfile(data);\n        //     });\n    }\n\n    render(){\n\n        //console.log('render profile')\n\n        // if (this.props.isAuth === false) {\n        //     return <Navigate to={'/login'} />\n        // }\n\n        // 8.прокидываем status updateStatus в пропсы -> Profile\n        return <Profile\n            {...this.props}\n            profile = {this.props.profile}\n            status={this.props.status}\n            updateStatus={this.props.updateStatus}\n        />\n    }\n\n}\n// !!!!!!!!!!!!!!!!!!!!!!!!!wrapper to us react router's v6 hooks in class component (to use HOC pattern, like in router v5)!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\nfunction withRouter(Component) {\n\n    function ComponentWithRouterProp(props) {\n\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component\n                {...props}\n                router={{location, navigate, params}}\n            />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\nconst mapStateToProps = (state) => {\n    //console.log('mapStateToProps profile')\n    return{\n    profile: state.profilePage.profile,\n    //3.state.profilePage.status -> profile_reducer,\n    status: state.profilePage.status,\n    authorisedUserId: state.auth.id,\n    isAuth: state.auth.isAuth\n}}\n\n//with compose 70lesson\n//порядок походу не важен хз, хотя Димыч говорит снизу вверх...\nexport default compose(\n    // 7.закидываем санки в connect {getStatus, updateStatus}\n    connect( mapStateToProps, {getProfileThunk, getUserProfile, updateStatus} ),\n    withRouter,\n    // withAuthRedirect\n)(ProfileContainer)\n\n//without compose 69lesson\n// let AuthRedirectComponent = withAuthRedirect( ProfileContainer );\n// export default connect( mapStateToProps, {getProfileThunk} )( withRouter( AuthRedirectComponent ) );\n\n\n\n\n\n// export default connect( mapStateToProps, { setFriendProfile, getProfileThunk} )( withRouter( ProfileContainer ) );\n\n// export default connect(mapStateToProps, {setFriendProfile})(ProfileContainer);export default connect(mapStateToProps, {setFriendProfile})(ProfileContainer);export default connect(mapStateToProps, {setFriendProfile})(ProfileContainer);"],"sourceRoot":""}